# 安装

### 电脑配置一览

台式机整机一台

* CPU：Intel i5-8400

* GPU：NVIDIA 1060 6G

* 内存：8G

* 固态：125G

* 硬盘：1T

* 既有系统：windows 10

  

工具准备：

* Ubuntu 18.04 desktop 版安装包，可以到[清华大学开源软件镜像站](https://mirrors.tuna.tsinghua.edu.cn/ubuntu-releases/bionic/)下载；
* UltraISO 软碟通；
* U盘一个



####　安装步骤

##### 1、 将系统包烧到U盘中

U盘插入电脑，打开软碟通，选择打开，找到下载好的ISO镜像打开

工具->写入硬盘镜像->选择U盘->写入，等待完成。

##### 2、win10 磁盘管理中划分出Ubuntu安装硬盘空间

由于当前配置中固态硬盘容量较小，所以选择从1T的机械盘中分出100G空间用于安装Ubuntu系统，此方案已经足够日常使用，并且在Ubuntu系统中还可以挂载windows的分区进行使用，故不需要将大量硬盘空间用于安装系统。

在windows 磁盘管理中，选择安装系统的硬盘对应分区，从其中某个分区右键->压缩卷选项中压缩得到100G空间，完成后空间为未分配或者可用空间状态。

##### 3、win10关闭快速启动选项 （不知道不关闭会有何影响，看几篇教程都是需要关闭，我也并没有找到安全启动的选项，未关闭，对安装无影响）

在电源选项里，启动快速启动前边的√去掉

##### 4、设置开机启动顺序

由于本机采用UEFI进行引导，选择启动顺序时，U盘前方出现UEFI字样，将其放到最前一个启动项，保存并退出

##### 5、安装Ubuntu

好像刚刚进入正题。。。

U盘启动后选择install Ubuntu的选项，语言这里选择了简体中文（方便系统使用时的中文输入），关键步骤是选择其他安装模式，选择分出来的空闲100G空间并进行划分。

我采用的分区方案如下，仅供参考：

| 分区类型 | 大小         | 挂载点           | 格式             |
| -------- | ------------ | ---------------- | ---------------- |
| 系统分区 | 256M         | （貌似是不用选） | EFI格式          |
| 逻辑分区 | 8G           | 不用选           | swap             |
| 逻辑分区 | 25G          | /                | Ext4日志文件系统 |
| 逻辑分区 | 剩下所有空间 | /home            | Ext4日志文件系统 |

其中

- 这里选择了EFI安装，没有使用boot分区引导，大小分配200M左右就好，保险起见这里选择了256M
- swap分区为虚拟内存大小，都建议选成主机内存大小，这里选择8G
- /目录下为系统目录，一些软件会安装在这里，类似于windows的C盘，选择25G防止软件安装空间不够使用
- /home目录是自己存放个人文件位置，类似于windows中的个人文件夹，尽量大一些以存放文件。
- 不够使用还可以使用mount命令挂在windows下的分区，之后会有相关操作指令

##### 6、静待安装完成重启进入系统



#### 删除Ubuntu系统

##### 1、修复MBR

搜索得到说不修复可能windows系统也不能进入，保险起见修复一下

* 下载软件MbrFix
* 管理员打开命令提示符，cd到MbrFix目录
* 执行`MbrFix.exe /drive 0 fixmbr /yes `

##### 2、删除Ubuntu分区

进入磁盘管理，删除Ubuntu建立的几个分区。

这里需要注意，安装时的EFI分区在磁盘管理中是不能直接删除的，查阅资料得到以下方法：

* 运行->`diskpart`，打开diskpart工具
* `list disk`显示磁盘列表，这时就可以根据大小查看Ubuntu系统是安装在磁盘0或者磁盘1上了
* 例如Ubuntu安装在磁盘1上，执行`select disk 1`，即选中磁盘1
* 执行`list partition`，显示磁盘上的分区列表，可以根据类型和大小找到EFI所在的分区编号了
* 例如EFI分区编号为6，执行`select partition 6`，选中分区6
* 执行`delete partition override`，即删除此分区

至此完成Ubuntu系统的卸载。



####  系统折腾

* 安装配置git，参考本人[Git笔记](https://github.com/zcgeqian/notes/blob/master/git_note.md)
* 安装搜狗输入法，下载deb安装包，语言选项里配置改成fcitx，应用到整个系统，删除系统自带中文输入法
* 安装chrome，配置谷歌访问助手，登录谷歌账号并同步
* 安装wps_linux版，找到缺少的字体包并拷贝到指定位置：`sudo cp * /usr/share/fonts`
* 安装vim：`sudo apt install vim` 
* 之后安装cuda的话，推荐不要使用系统设置->附加驱动那里选择NVIDIA的驱动，因为后期安装cuda过程中有坑。这里系统提供的驱动和cuda对应版本的驱动并不一定一直，会导致pytorch和TensorFlow不能正常配置gpu，**推荐使用cuda安装包中自带的NVIDIA驱动，这个版本驱动和cuda一定是配套的**

